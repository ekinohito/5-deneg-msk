generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model User {
  // E-mail пользователя для регистрации
  email String @unique

  // Идентификатор пользователя
  id Int @id @default(autoincrement())

  // Хешированный пароль
  hashedPassword String

  // Имя пользователя
  name String

  // Ассоциированная запись волонтера (может отсутствовать)
  volunteer Volunteer?

  // Мероприятия организованные пользователем
  organizedEvents Event[]
}

model Volunteer {
  // Идентификатор волонтера
  id Int @id @default(autoincrement())

  // Идентификатор пользователя, с которым ассоциирована запись волонтера
  userId Int @unique

  // Пользователь, с которым ассоциирована запись волонтера
  user User @relation(fields: [userId], references: [id])
}

model Event {
  // Идентификатор события
  id Int @id @default(autoincrement())

  // Идентификатор организатора события
  organizerId Int

  // Организатор события
  organizer User @relation(fields: [organizerId], references: [id])

  // Дата проведения события
  date DateTime?

  // URL картинки
  picture String?
}
